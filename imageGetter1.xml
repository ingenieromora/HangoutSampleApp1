<?xml version="1.0" encoding="UTF-8" ?>
<Module>
<!-- Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy of
 * the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *      
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License
-->
        <ModulePrefs title="Hangout Starter">
                <Require feature="rpc" />
                <Require feature="views" />\
                <Require feature="locked-domain" /> \
        </ModulePrefs>
        <Content type="html"><![CDATA[     

<html>
<style type="text/css">
<!--
.button {
  border-radius: 3px;
  -moz-border-radius: 3px;
  background: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#ddd));
  background: -moz-linear-gradient(top, #fff, #ddd);  
  border: 1px solid #bbb;
}

.button:active {
        background: -webkit-gradient(linear, left top, left bottom, from(#aaa), to(#333)); 
        background: -moz-linear-gradient(bottom, #ddd, #aaa); }

-->
</style>
<head>
        <title>Hangout Media Starter</title>
            <meta http-equiv="Content-Type" content="text/html;
charset = iso - 8859 - 1 " />
</head>

<body>
  <script src="//plus.google.com/hangouts/_/api/v1/hangout.js"></script>
  <script src="https://hangoutmediastarter.appspot.com/static/html5slider.js"></script>

  <center>  
    <div id="div2"></div>
    <canvas id="e" width="500" height="500"></canvas>
  </center>
</body>
  <script>
    var participant = null;
    participant = gapi.hangout.getLocalParticipant();
    //participant = "'Hello World";
    var para=document.createElement("p");
    var node=document.createTextNode(participant.person.id);
    para.appendChild(node);
    var element=document.getElementById("div2");
    element.appendChild(para);          
    var canvas = document.getElementById("e");
    var context = canvas.getContext("2d");
    var cat = new Image();
    cat.src = "http://hangoutmediastarter.appspot.com/static/mustache.png";
    cat.onload = function() {
      context.drawImage(cat, 0, 0);
    };

    var div_links = document.getElementById('links');

    var xmlDoc = loadXML('https://picasaweb.google.com/data/feed/api/user/104764900862072743431&callback=?');
    if (xmlDoc != null)
    {
      alert("WE GOT IT");
     // Obtenemos la lista de links
     var links_tag = xmlDoc.getElementsByTagName("lista")[0].getElementsByTagName("link");

     for (var i = 0; i < links_tag.length; i++)
     {
      // Obtenemos el título del link
      var titulo = links_tag[i].getElementsByTagName("titulo")[0].childNodes[0].nodeValue;

      // Obtenemos el hipervínculo del link
      var href = links_tag[i].getElementsByTagName("href")[0].childNodes[0].nodeValue;

      // Modificamos el contenido html del contenedor div
      div_links.innerHTML += "<p><a href=" + href + ">" + titulo + "</a></p>";
     }
    }

    function loadXML(xmlArchive)
    {
     var xmlDoc;

     if (window.XMLHttpRequest)
       {
        xmlDoc = new window.XMLHttpRequest();
        xmlDoc.open("GET", xmlArchive, false);
        xmlDoc.send("");
        return xmlDoc.responseXML;
       }
     // para IE 5 y IE 6
     else if (ActiveXObject("Microsoft.XMLDOM"))
       {
        xmlDoc = new ActiveXObject("Microsoft.XMLDOM");
        xmlDoc.async = false;
        xmlDoc.load(xmlArchive);
        return xmlDoc;
       }
     alert("Error cargando el documento.");
     return null;
    } 
  </script>

]]>
</Content>

</Module>

